<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support - Kentronics TechStar Solutions</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
</head>
<body class="support-page">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-navy fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="dashboard.html">
                <img src="assets/images/logo.svg" alt="Logo" class="navbar-logo me-2">
                <span class="d-none d-md-inline">Kentronics TechStar</span>
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="dashboard.html">
                            <i class="fas fa-tachometer-alt me-1"></i>Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="transactions.html">
                            <i class="fas fa-history me-1"></i>Transactions
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="withdraw.html">
                            <i class="fas fa-money-bill-wave me-1"></i>Withdraw
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="support.html">
                            <i class="fas fa-headset me-1"></i>Support
                        </a>
                    </li>
                </ul>
                
                <ul class="navbar-nav">
                    <li class="nav-item dropdown" id="userNavItem" style="display: none;">
                        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user-circle me-1"></i>
                            <span id="userName">User</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><h6 class="dropdown-header" id="userAccountInfo">Account Info</h6></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#" onclick="logout()">
                                <i class="fas fa-sign-out-alt me-2"></i>Logout
                            </a></li>
                        </ul>
                    </li>
                    <li class="nav-item" id="loginNavItem">
                        <a class="nav-link" href="login.html">
                            <i class="fas fa-sign-in-alt me-1"></i>Login
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container-fluid main-content">
        <div class="row">
            <div class="col-12">
                <div class="page-header text-center">
                    <img src="assets/images/logo.svg" alt="Kentronics TechStar Solutions" class="logo-medium mb-3">
                    <h1 class="page-title">Customer Support</h1>
                    <p class="page-description">We're here to help you with any questions or issues</p>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Contact Information -->
            <div class="col-lg-4 mb-4">
                <div class="card h-100">
                    <div class="card-header bg-navy text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-phone me-2"></i>Get in Touch
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="contact-info">
                            <div class="contact-item mb-3">
                                <i class="fas fa-phone-alt text-navy me-3"></i>
                                <div>
                                    <strong>Phone Support</strong>
                                    <div class="text-muted">+254 XXX XXX XXX</div>
                                    <small class="text-muted">Mon-Fri 8AM-6PM EAT</small>
                                </div>
                            </div>
                            
                            <div class="contact-item mb-3">
                                <i class="fas fa-envelope text-navy me-3"></i>
                                <div>
                                    <strong>Email Support</strong>
                                    <div class="text-muted">support@kentronicssolutions.com</div>
                                    <small class="text-muted">24/7 Email Support</small>
                                </div>
                            </div>
                            
                            <div class="contact-item mb-3">
                                <i class="fas fa-map-marker-alt text-navy me-3"></i>
                                <div>
                                    <strong>Office Location</strong>
                                    <div class="text-muted">Nairobi, Kenya</div>
                                    <small class="text-muted">Visit by appointment</small>
                                </div>
                            </div>
                            
                            <div class="contact-item">
                                <i class="fas fa-clock text-navy me-3"></i>
                                <div>
                                    <strong>Response Time</strong>
                                    <div class="text-muted">Within 4 hours</div>
                                    <small class="text-muted">During business hours</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Support Form -->
            <div class="col-lg-8 mb-4">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-comment-dots me-2"></i>Send us a Message
                        </h5>
                    </div>
                    <div class="card-body">
                        <div id="supportAlert"></div>
                        
                        <form id="supportForm">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="supportName" class="form-label">Full Name <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="supportName" name="name" required
                                           placeholder="Enter your full name">
                                </div>
                                
                                <div class="col-md-6 mb-3">
                                    <label for="supportEmail" class="form-label">Email Address</label>
                                    <input type="email" class="form-control" id="supportEmail" name="email"
                                           placeholder="Enter your email address">
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="supportPhone" class="form-label">Phone Number <span class="text-danger">*</span></label>
                                    <input type="tel" class="form-control" id="supportPhone" name="phone" required
                                           placeholder="Enter your phone number">
                                </div>
                                
                                <div class="col-md-6 mb-3">
                                    <label for="supportAccount" class="form-label">Account Number</label>
                                    <input type="text" class="form-control" id="supportAccount" name="accountNumber"
                                           placeholder="Enter your account number (if applicable)">
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="supportCategory" class="form-label">Issue Category <span class="text-danger">*</span></label>
                                <select class="form-select" id="supportCategory" name="category" required>
                                    <option value="">Select issue category</option>
                                    <option value="technical">Technical Issues</option>
                                    <option value="billing">Billing & Payments</option>
                                    <option value="withdrawal">Withdrawal Issues</option>
                                    <option value="account">Account Management</option>
                                    <option value="device">Device Registration</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label for="supportSubject" class="form-label">Subject <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="supportSubject" name="subject" required
                                       placeholder="Brief description of your issue">
                            </div>
                            
                            <div class="mb-3">
                                <label for="supportMessage" class="form-label">Message <span class="text-danger">*</span></label>
                                <textarea class="form-control" id="supportMessage" name="message" rows="6" required
                                          placeholder="Please describe your issue in detail. Include any error messages, steps you've taken, and any other relevant information."></textarea>
                                <div class="form-text">
                                    <span id="messageCount">0</span>/1000 characters
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="supportPriority" class="form-label">Priority Level</label>
                                <select class="form-select" id="supportPriority" name="priority">
                                    <option value="low">Low - General inquiry</option>
                                    <option value="medium" selected>Medium - Non-urgent issue</option>
                                    <option value="high">High - Urgent issue affecting service</option>
                                    <option value="critical">Critical - Service completely down</option>
                                </select>
                            </div>
                            
                            <div class="d-grid gap-2">
                                <button type="submit" class="btn btn-navy btn-lg" id="supportBtn">
                                    <i class="fas fa-paper-plane me-2"></i>
                                    <span class="btn-text">Send Message</span>
                                    <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- FAQ Section -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-question-circle me-2"></i>Frequently Asked Questions
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="accordion" id="faqAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq1">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1">
                                        How do I withdraw my earnings?
                                    </button>
                                </h2>
                                <div id="collapse1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        To withdraw your earnings, go to the Withdraw page, enter the amount you want to withdraw, confirm with your login password, and submit. Your withdrawal will be processed within 24 hours to your registered account.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq2">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2">
                                        How can I change my withdrawal account details?
                                    </button>
                                </h2>
                                <div id="collapse2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        For security reasons, withdrawal account details can only be changed by contacting our support team. Please send us a message through this form or call our support line with your account verification details.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq3">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3">
                                        What is the minimum withdrawal amount?
                                    </button>
                                </h2>
                                <div id="collapse3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        The minimum withdrawal amount is KSH 100. This helps reduce transaction costs and ensures efficient processing of your withdrawals.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq4">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4">
                                        How often are my device balances updated?
                                    </button>
                                </h2>
                                <div id="collapse4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Device balances are updated in real-time whenever a payment is made on your pool table. You can always see the most current balance on your dashboard.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq5">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5">
                                        How do I register a new pool table device?
                                    </button>
                                </h2>
                                <div id="collapse5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        To register a new pool table device, please contact our support team with your device serial number and installation location. Our technicians will handle the registration and setup process.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/api.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/app.js"></script>
    <script>
        // Initialize support page on load
        document.addEventListener('DOMContentLoaded', function() {
            // Support page can be accessed by both authenticated and non-authenticated users
            if (isAuthenticated()) {
                loadUserInfo();
                prefillUserData();
                document.getElementById('userNavItem').style.display = 'block';
                document.getElementById('loginNavItem').style.display = 'none';
            } else {
                document.getElementById('userNavItem').style.display = 'none';
                document.getElementById('loginNavItem').style.display = 'block';
            }
            
            setupSupportForm();
        });
    </script>
</body>
</html>
